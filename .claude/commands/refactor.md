# ğŸ”§ Refactor

Improve this code without changing behavior:

$ARGUMENTS

## Workflow

1. **Understand current behavior**
   - What does this code do?
   - What are its inputs/outputs?
   - What depends on it?

2. **Identify improvement areas**
   - Readability
   - Performance
   - Maintainability
   - Duplication
   - Complexity

3. **Present refactoring plan**
   - What changes
   - What stays the same
   - Risk assessment

4. **Get approval before changing**
   - Show before/after
   - Explain trade-offs

5. **Refactor incrementally**
   - Small steps
   - Verify behavior preserved

## Output Format

### Analysis Phase
```
## ğŸ”§ Refactor: [target]

### ğŸ“Š Current State
- Lines: X
- Complexity: [low/medium/high]
- Issues: [list]

### ğŸ¯ Proposed Changes
| Change | Impact | Risk |
|--------|--------|------|
| [change] | [benefit] | ğŸŸ¢/ğŸŸ¡/ğŸ”´ |

### âš–ï¸ Trade-offs
**Gaining:** [benefits]
**Losing:** [any trade-offs]

Proceed?
```

### After Refactoring
```
## âœ… Refactored: [target]

### ğŸ“Š Results
| Metric | Before | After |
|--------|--------|-------|
| Lines | X | Y |
| Complexity | X | Y |

### ğŸ”„ Changes Made
1. [change + why]
2. [change + why]

### âœ… Behavior Preserved
[Confirmation that functionality unchanged]
```

## Refactoring Types

- `/refactor for readability` â€” Cleaner code
- `/refactor for performance` â€” Faster execution
- `/refactor extract [thing]` â€” Pull out reusable piece
- `/refactor simplify` â€” Reduce complexity
- `/refactor modernize` â€” Update to newer patterns
